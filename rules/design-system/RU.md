# Разработка дизайн-системы

> **Важно.** Эти положения распространяются на все наши новые проекты, которые мы пишем с нуля, а также на существующие проекты, которые мы переделываем.

## 1. Общие положения

1.1. Мы переходим на методологию [Atomic Design](https://atomicdesign.bradfrost.com/chapter-2/). **Почему:** мы хотим использовать во всех проектах единую, понятную как дизайнерам, так и разработчикам, методологию и поддерживать порядок в наших компонентах.

1.2. Мы используем CSS modules. **Почему:** они хорошо работают из коробки в [CRA](https://create-react-app.dev/) и [next.js](https://nextjs.org/), имеют изолированное пространство имен, поддерживается TypeScript, есть встроенный Autoprefixer, на выходе мы имеем транспилированный CSS, т.е. в проде мы не нагружаем браузер пользователя избыточными вычислениями в рантайме.

1.3. Для композиции блоков мы следуем правилам [БЭМ](https://bem.info/) (там, где это применимо).

1.4. В качестве системы документирования мы используем storybook. **Почему:** это отличная система документирования компонентов + playground в одном флаконе.

1.5. При организации пропсов в дизайн-системе мы опираемся на систему пропсов в компонентах [AntDesign](https://ant.design/components/overview/). **Почему:** Ant очень неплохо спроектирован, мы можем смело полагаться на их опыт и не изобретать свои велосипеды.

## 2. Структура директорий

в корне - директория `designSystem`, внутри нее - сабдиректории:

- **atoms** - если декомпозировать страницу, то атом - это минимально возможный элемент интерфейса, который настолько мал, что его нельзя раздробить на составные части. Обязательное условие - он **не может состоять из других атомов**. **Примеры:** разделитель, ссылка, логотип, прелоадер, простой инпут, простая кнопка

- **molecules** - логически обособленные элементы, которые уже не является атомами но и еще не являются организмами. Обязательное условие - молекулы **не должны ничего знать про бизнес-логику, модель данных в приложении, роутинг или сетевые запросы**. **Примеры:** сложносоставной инпут (например, с иконкой), кнопка с прелоадером, модальное окно, upload area, аватар

- **organisms** - сложносоставные блоки и различные панели, а также любые простые (на первый взгляд) блоки, которым известно про бизнес-логику, модель данных, роутинг или сетевые запросы. **Примеры:** хедер, блок с навигаций, форма регистрации, кнопка входа через соцсети, кнопка лайка (при условии что она сама обслуживает сетевые запросы)

- **templates** - шаблоны страниц, шаблоны контента внутри сущностей, **имеющих свой URL**. **Примеры:** шаблон страницы с формой входа/регистрации, шаблон страницы с ошибкой (404/500), шаблон главной страницы, шаблон типового модального окна с формой (при условии что модальне окна открываются по урлу)

- **pages** - страницы и прочие сущности (например, модальные окна), **имеющие свой URL**

- **providers** - различные провайдеры. **Примеры:** intl provider, redux provider, apollo provider
